<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Horizons</title>
    <link rel="icon" type="image/x-icon" href="./assets/img/Learning1.png">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/about.css">
    <link rel="stylesheet" href="./assets/css/preloader.css">
</head>

<body>

    <div class="preloader">
        <div class="random">
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
            <span class="nbr ltr">0</span>
        </div>
        <div class="loading-bar">
            <div class="loading-bar-fill"></div>
        </div>
    </div>

    <main class="app">

        <svg class="trail" viewBox="0 0 1 1">
            <path d="" />
        </svg>

        <!-- Nav -->

        <div class="nav">
            <div class="nav_logo">
                <a href="#" class="logo"><img src="./assets/img/Learning.png" alt="" style="width: 150px;"></a>
            </div>
            <div class="nav_menu">
                <div class="nav_menu_button --open-menu">
                    <div class="nav_menu_button_text">
                        <span>Menu</span>
                    </div>
                    <div class="nav_menu_button_circle"></div>
                </div>
            </div>
        </div>

        <!-- Menu -->

        <div class="menu">
            <div class="menu_wrapper">
                <div class="menu_row">
                    <div class="menu_row_pages">
                        <h2><a href="index.html">Home</a></h2>
                        <h2><a href="about.html">About</a></h2>
                        <h2>Works</h2>
                        <h2>Contact</h2>
                    </div>

                    <div class="menu_row_info">
                        <div class="menu_row_info_location">
                            <span>West Bengal</span>
                            <span>India</span>
                            <span>Kathmandu</span>
                            <span>Nepal</span>
                        </div>
                        <div class="menu_row_info_social">
                            <span>Instagram</span>
                            <span>Facebook</span>
                            <span>Twittwer</span>
                        </div>
                    </div>
                </div>

                <div class="menu_row">
                    <div class="menu_row_media">
                        <video autoplay loop muted src="./assets/img/video.mp4"></video>
                    </div>
                    <div class="menu_row_title">
                        <h1>L</h1>
                        <h1>E</h1>
                        <h1>A</h1>
                        <h1>R</h1>
                        <h1>N</h1>
                        <h1>I</h1>
                        <h1>N</h1>
                        <h1>G</h1>
                    </div>
                </div>
            </div>
        </div>

        <section class="intro">
            <div class="intro_one">
                <div class="intro_card">
                    <div class="intro_card_inner">
                        <div class="intro_card_caption">
                            <span>We are Learning Horizons</span>
                            <span>learning.horizons3@gmail.com</span>
                        </div>
                        <div class="intro_card_title">
                            <h2>Learning</h2>
                            <h3>Horizons</h3>
                        </div>
                        <div class="intro_card_description">
                            <p>transform concepts into captivating visual experience</p>
                        </div>
                        <div class="intro_card_info">
                            <span>Scroll Down &ensp;&darr;</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="intro_two">
                <div class="intro_card">
                    <div class="intro_card_inner">
                        <div class="intro_card_caption">
                            <span>We are Learning Horizons</span>
                        </div>
                        <div class="intro_card_title">
                            <h2>Web design</h2>
                            <h2>Motion design</h2>
                            <h2>UX/UI</h2>
                            <h2>Branding</h2>
                        </div>
                        <div class="intro_card_description">
                            <p>
                                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Est non, facere eius dolorum
                                commodi quia labore sapiente vel vero accusantium mollitia obcaecati possimus expedita
                                deserunt pariatur ipsum voluptatum iure iste!
                            </p>
                        </div>
                        <div class="intro_card_info">
                            <span>Join us on a journey where innovation meets aesthetics, and every pixel tells a
                                story.</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="intro_media">
                <img src="https://images.unsplash.com/photo-1642526747027-f6de3c4d30bc?q=80&w=1854&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    alt="" class="intro_media_image">
            </div>
        </section>

        <section class="gallery">
            <div class="gallery_wrapper">
                <div class="gallery_media">
                    <img src="https://images.unsplash.com/photo-1620889276175-e60898da142d?q=80&w=1916&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="gallery_media_image">
                </div>
                <div class="gallery_media">
                    <img src="https://images.unsplash.com/photo-1612221119152-311beb1f9354?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="gallery_media_image">
                </div>
                <div class="gallery_media">
                    <img src="https://images.unsplash.com/photo-1672731142552-2fb57eddba43?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="gallery_media_image">
                </div>
                <div class="gallery_media">
                    <img src="https://images.unsplash.com/photo-1659746195510-8496744ffd69?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="gallery_media_image">
                </div>
                <div class="gallery_media">
                    <img src="https://images.unsplash.com/photo-1645509925752-f5f1124f47b3?q=80&w=1886&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                        alt="" class="gallery_media_image">
                </div>
            </div>
            <div class="gallery_text">
                <div class="gallery_text_items">
                    <h3>Digital Narratives</h3>
                </div>
                <div class="gallery_text_items">
                    <h3>Visual Experience</h3>
                </div>
                <div class="gallery_text_items">
                    <h3>Join Us</h3>
                </div>
            </div>
        </section>

        <section class="connect">
            <div class="connect_wrapper">
                <div class="connect_caption">
                    <span>In the realm of</span>
                    <span>interconnected possibilities</span>
                    <span>we weave</span>
                    <span>digital threads,</span>
                    <span>bridging ideas,</span>
                    <span>seamlessly</span>
                </div>
                <div class="connect_title">
                    <h3>Synergize</h3>
                    <h3>Humanize</h3>
                    <h3>Connect</h3>
                </div>
                <div class="connect_caption">
                    <span>Connectivity</span>
                    <span>sparks innovation</span>
                    <span>forging meaningful</span>
                    <span>Connectivity</span>
                    <span>boundaries.</span>
                </div>
            </div>
            <div class="connect_media image--front">
                <img src="./assets/img/img.png" alt="">
            </div>
            <div class="connect_media image--back">
                <img src="https://wallpapers.com/images/hd/pure-black-background-py9pa0f1mlsscm9s.jpg" alt="">
            </div>
        </section>

        <section class="horizontal">
            <div class="horizontal_wrapper">
                <div class="horizontal_box horizontal_box--full">
                    <div class="horizontal_box_title">
                        <h3>Troblox</h3>
                        <div class="horizontal_box_title_extra">
                            <span>Photography</span>
                        </div>
                    </div>
                    <div class="horizontal_box_media">
                        <img src="https://images.unsplash.com/photo-1642727938869-aeb975737ffe?q=80&w=1780&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                            alt="">
                    </div>
                </div>

                <div class="horizontal_box horizontal_box--vertical">
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Synergize</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(01)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Humanize</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(02)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Connect</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(03)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                </div>

                <div class="horizontal_box horizontal_box--full">
                    <div class="horizontal_box_title">
                        <h3>Lima</h3>
                        <div class="horizontal_box_title_extra">
                            <span>Editorial</span>
                        </div>
                    </div>
                    <div class="horizontal_box_media">
                        <img src="https://images.unsplash.com/photo-1643914543607-7f755947dd70?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                            alt="">
                    </div>
                </div>

                <div class="horizontal_box horizontal_box--vertical">
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Synergize</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(01)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Humanize</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(02)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                    <div class="horizontal_box_container">
                        <div class="horizontal_box_title">
                            <h3>Connect</h3>
                        </div>
                        <div class="horizontal_box_paragraph">
                            <span>(03)</span>
                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci expedita provident
                                sint cumque! Repudiandae sunt laborum quas nostrum, a inventore, unde alias nobis
                                debitis deserunt reprehenderit quibusdam aut suscipit quia.</p>
                        </div>
                    </div>
                </div>

                <div class="horizontal_box horizontal_box--end">
                    <div class="horizontal_box_title">
                        <h3>Get in touch</h3>
                        <h3>( &darr; )</h3>
                    </div>
                    <div class="horizontal_box_media">
                        <img src="https://images.unsplash.com/photo-1638547908152-a8406fc38d21?q=80&w=1890&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                            alt="">
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->

        <section class="footer" data-scroll-section="">
            <div class="footer_wrapper" data-scroll data-scroll-speed="-2" data-scroll-call="footer">
                <div class="footer_row">
                    <div class="footer_row_col">
                        <ul class="footer_list">
                            <li>Contact</li>
                        </ul>
                    </div>

                    <div class="footer_row_col">
                        <ul class="footer_list">
                            <li>West Bengal</li>
                            <li>India</li>
                            <li>Kathmandu</li>
                            <li>Nepal</li>
                        </ul>
                    </div>

                    <div class="footer_row_col">
                        <ul class="footer_list">
                            <li>Instagram</li>
                            <li>Facebook</li>
                            <li>Twitter</li>
                        </ul>
                    </div>
                </div>

                <div class="footer_row" style="justify-content: center;">
                    <div class="footer_title">
                        <h1>Learning Horizons</h1>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="./assets/js/script.js"></script>
    <script type="module" src="./assets/js/preloader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>

    <script>
        const svg = document.querySelector('svg.trail');
        const path = svg.querySelector('path');

        let points = [];
        let segments = 100;
        let mouse = {
            x: 0,
            y: 0,
        };

        const move = (event) => {
            const x = event.clientX;
            const y = event.clientY;

            mouse.x = x;
            mouse.y = y;

            if (points.length === 0) {
                for (let i = 0; i < segments; i++) {
                    points.push({
                        x: x,
                        y: y,
                    });
                }
            }
        };

        const anim = () => {
            // starting point
            let px = mouse.x;
            let py = mouse.y;

            points.forEach((p, index) => {
                p.x = px;
                p.y = py;

                let n = points[index + 1];

                if (n) {
                    px = px - (p.x - n.x) * 0.3; // Adjusted factor to decrease reach
                    py = py - (p.y - n.y) * 0.3; // Adjusted factor to decrease reach
                }
            });

            path.setAttribute('d', `M ${points.map((p) => `${p.x} ${p.y}`).join(` L `)}`);

            requestAnimationFrame(anim);
        };

        const resize = () => {
            const ww = window.innerWidth;
            const wh = window.innerHeight;

            svg.style.width = ww + 'px';
            svg.style.height = wh + 'px';
            svg.setAttribute('viewBox', `0 0 ${ww} ${wh}`);
        };

        document.addEventListener('mousemove', move);
        window.addEventListener('resize', resize);

        anim();
        resize();


    </script>

    <script>
        const nav = document.querySelector('.menu'),
            navItem = nav.querySelectorAll('.menu_row_pages')

        const transition = document.querySelector('.transition'),
            transitionCol = document.querySelectorAll('.transition_column'),
            transitionColText = document.querySelectorAll('.transition_column_text > span'),
            transitionElementText = document.querySelectorAll('.transition_element > h1')

        const initTransition = () => {
            gsap.set(transition, { display: 'none', autoAlpha: 0 })
            gsap.set(transitionCol, { y: '-101%' })
            gsap.set(transitionColText, { autoAlpha: 0, y: '-101%' })
            gsap.set(transitionElementText, { autoAlpha: 0 })
        }

        const show = () => {
            gsap.timeline({ defaults: { ease: 'expo.inOut' } })
                .to(
                    transition,
                    {
                        duration: 0.2,
                        display: 'block',
                        autoAlpha: 1,
                    },
                    0
                )
                .to(
                    transitionCol,
                    {
                        duration: 1.25,
                        y: 0,
                        stagger: {
                            each: 0.045,
                            from: 'random',
                            grdi: 'auto',
                        },
                    },
                    0.05
                )
                .to(
                    transitionColText,
                    {
                        duration: 1,
                        autoAlpha: 1,
                        grdi: 'auto,'
                    },
                    0.05
                )
                .to(
                    transitionColText,
                    {
                        duration: 1,
                        autoAlpha: 0,
                        grdi: '101%,'
                    },
                    2.75
                )
                .to(
                    transitionElementText,
                    {
                        duration: 1,
                        autoAlpha: 1,
                        stagger: {
                            each: 0.055,
                            from: 'random',
                        },
                        onComplete: () => {
                            hide()
                        }
                    },
                    0.75
                )
        }

        window.onload = () => {
            initTransition()
        }
    </script>

    <script>
        const menu = {
            element: document.querySelector('.menu'),
            pages: document.querySelectorAll('.menu_row_pages > h2'),
            info: document.querySelectorAll('.menu_row_info > div > span'),
            title: document.querySelectorAll('.menu_row_title > h1'),
            media: document.querySelector('.menu_row_media'),
        }

        const button = {
            element: document.querySelector('.nav_menu_button'),
            text: document.querySelectorAll('.nav_menu_button_text > span'),
            open: document.querySelector('.--open-menu'),
            close: document.querySelector('.--close-menu'),
        }

        const clipPath = {
            init: 'inset(0% 0% 0% 0%)',
            bottom: 'inset(100% 0% 0% 0%)',
            top: 'inset(0% 0% 100% 0%)',
        }

        const tlMenu = gsap.timeline({
            paused: true,
            defaults: { duration: 1.6, ease: 'expo.inOut' },
        })

        let isEnabled = false

        const initMenu = () => {
            gsap.set(menu.element, { pointerEvents: 'none', clipPath: clipPath.bottom })
            gsap.set(menu.pages, { yPercent: 100, autoAlpha: 0 })
            gsap.set(menu.info, { yPercent: 100, autoAlpha: 0 })
            gsap.set(menu.title, { yPercent: 100, rotateY: 20, scale: 0.2 })
            gsap.set(menu.media, { clipPath: clipPath.bottom })

            animateInnerMenu()
        }

        const animateMenu = () => {
            if (!isEnabled) {
                gsap.to(menu.element, {
                    duration: 1.2,
                    pointerEvents: 'auto',
                    clipPath: clipPath.init,
                    ease: 'expo.inOut',
                })
            } else {
                gsap.to(menu.element, {
                    duration: 0.8,
                    clipPath: clipPath.top,
                    ease: 'expo.inOut',
                    onComplete: () => {
                        gsap.set(menu.element, { pointerEvents: 'none', clipPath: clipPath.bottom })
                    }
                })
            }
        }

        const animateInnerMenu = () => {
            tlMenu.to(
                menu.pages,
                {
                    yPercent: 0,
                    autoAlpha: 1,
                    stagger: 0.032,
                },
                0.24
            ).to(
                menu.info,
                {
                    yPercent: 0,
                    autoAlpha: 1,
                    stagger: 0.032,
                },
                0.24
            ).to(
                menu.title,
                {
                    yPercent: 0,
                    rotateY: 0,
                    scale: 1,
                    stagger: 0.032,
                },
                0
            ).to(
                menu.media,
                {
                    clipPath: clipPath.init,
                },
                0
            )
        }

        const animateButton = (text) => {
            gsap.timeline()
                .to(button.element, {
                    duration: 0.8,
                    autoAlpha: 0,
                    pointerEvents: 'none',
                    ease: 'expo.inOut',
                    onComplete: () => {
                        button.text[0].textContent = text
                    }
                })
                .to(button.element, {
                    duration: 0.8,
                    autoAlpha: 1,
                    pointerEvents: 'auto',
                })
        }

        const addEventListeners = () => {
            button.open.addEventListener('click', () => {
                if (!isEnabled) {
                    animateMenu()
                    animateButton('Close')
                    tlMenu.play()
                } else {
                    animateButton('Menu')
                    animateMenu()
                    tlMenu.reverse(2)
                }

                isEnabled = !isEnabled
            })
        }

        const hide = () => {
            gsap.timeline({ defaults: { ease: 'expo.inOut' } })
                .to(
                    transitionElementText,
                    {
                        duration: 1,
                        autoAlpha: 0,
                        stagger: 0.055,
                    }
                )
                .to(
                    transitionCol,
                    {
                        duration: 1.25,
                        y: '101%',
                        stagger: {
                            each: 0.045,
                            from: 'random',
                            grid: 'auto',
                        },
                    }
                )
                .to(
                    transition,
                    {
                        duration: 0.2,
                        display: 'none',
                        autoAlpha: 0,
                        onComplete: initTransition,
                    }
                )
        }

        navItem.forEach((el) => {
            el.addEventListener('click', show)
        })

        window.addEventListener('DOMContentLoaded', () => {
            initMenu()
            addEventListeners()
        })

    </script>

    <!-- ABOUT JS -->

    <script>
        gsap.registerPlugin(ScrollTrigger)

        const body = document.querySelector('.intro')
        const intro = document.querySelector('.intro'),
            introCard = intro.querySelectorAll('.intro_card'),
            introMedia = intro.querySelector('.intro_media')

        const isMobile = window.matchMedia('(max-width: 769px)')

        const init = () => {
            gsap.set(body, { overflow: 'hidden' })
            gsap.set(introCard[0], { scale: 0.6 })

            initLenis()
            initScrollHero()
            initScrollMedia()
        }

        const initLenis = () => {
            const lenis = new Lenis({
                lerp: 0.1,
                smoothWheel: true,
            })

            lenis.on('scroll', ScrollTrigger.update)

            gsap.ticker.add((time) => lenis.raf(time * 1000))
            gsap.ticker.lagSmoothing(0)
        }

        const initScrollHero = () => {
            const tlHero = gsap.timeline({
                defaults: { stagger: 0.08, ease: 'power1.inOut' },
                scrollTrigger: {
                    trigger: '.intro_one',
                    start: 'top top',
                    end: 'center',
                    scrub: true,
                    pin: true,
                    pinSpacing: true,
                },
            })
            tlHero.add('start').to(introCard[0], {
                scale: 1,
            })
        }

        const initScrollMedia = () => {
            const tlMedia = gsap.timeline({
                scrollTrigger: {
                    trigger: intro,
                    start: 'center top',
                    end: 'bottom bottom',
                    scrub: 2,
                    pinSpacing: false,
                },
            })
            gsap.set(introMedia, { autoAlpha: 1 })
            tlMedia.to(introMedia, {
                autoAlpha: 0,
            })

            initGalleryText()
        }

        const initGalleryText = () => {
            const gallery = document.querySelector('.gallery'),
                galleryText = gallery.querySelector('.gallery_text')

            ScrollTrigger.create({
                trigger: gallery,
                pin: galleryText,
                start: 'top top',
                end: 'bottom bottom',
            })

            const texts = gsap.utils.toArray('.gallery_text_items > h3')
            gsap.set(texts, { y: '200%', autoAlpha: 0 })

            texts.forEach((text, i) => {
                const tlGalleryText = gsap.timeline({
                    scrollTrigger: {
                        trigger: gallery,
                        start: () => `top+=${i * window.innerHeight} top+=60%`,
                        end: () => `top+=${(i * 1) * window.innerHeight} top`,
                        scrub: 3,
                    }
                })

                tlGalleryText
                    .to(text, {
                        y: 0,
                        autoAlpha: 1,
                    })
                    .to(text, {
                        y: '-200%',
                        autoAlpha: 0,
                    })
            })

            initConnection()
        }

        const initConnection = () => {
            const connect = document.querySelector('.connect'),
                connectMedia = document.querySelectorAll('.connect_media')

            connectMedia.forEach((media) => {
                media.classList.contains('image--front')
                    ? gsap.set(media, { xPercent: -200, y: 0, yPercent: -50 })
                    : gsap.set(media, { xPercent: 200, y: 0, yPercent: -50 })
            })

            const tlConnect = gsap.timeline({
                ease: 'none',
                scrollTrigger: {
                    trigger: connect,
                    start: 'top top',
                    end: '+=3000',
                    scrub: 1,
                    pin: true,
                }
            })

            tlConnect
                .to(connectMedia, {
                    xPercent: 0,
                })
                .to(connectMedia, {
                    scale: 0.5
                })

            if (isMobile.matches) return;
            initHorizontal()
        }

        const initHorizontal = () => {
            const horizontal = document.querySelector('.horizontal'),
                horizontalVerticalBoxes = horizontal.querySelectorAll('.horizontal_box--vertical')

            const tlHorizontal = gsap.timeline({
                defaults: { ease: 'none' },
                scrollTrigger: {
                    trigger: horizontal,
                    start: 'top top',
                    end: () => '+=' + horizontal.offsetWidth,
                    pin: true,
                    scrub: 1,
                    invalidateOnRefresh: true,
                },
            })

            tlHorizontal.to('.horizontal_wrapper', {
                x: () => -(horizontal.scrollWidth - document.documentElement.clientWidth) + 'px',
            })

            gsap.set(horizontalVerticalBoxes, { y: '-25%' })
            tlHorizontal.to(
                horizontalVerticalBoxes,
                {
                    y: '25%',
                    stagger: 0.02,
                },
                0
            )
        }


        window.addEventListener('DOMContentLoaded', () => {
            if (!isMobile.matches) {
                init()
            } else {
                initLenis()
                initScrollMedia()
            }
        })
    </script>
</body>

</html>